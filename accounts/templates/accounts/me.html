{% extends "base.html" %}
{% load i18n %}

{% block title %}{{ page_title }}{% endblock %}

{% block content %}
<!-- https://stackoverflow.com/questions/572768/styling-an-input-type-file-button -->
<!--
<style>
input[type="file"] {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0,0,0,0);
    border: 0;
}
</style>
-->

<div class="section">
  <img class="ui small avatar image" src="{{ user.profile.get_avatar }}" alt="{% blocktrans with username=user.get_username %}{{ username }}'s avatar{% endblocktrans %}" />
  <h1 style="unicode-bidi: embed;">{{ user.get_username }}</h1>
  <ul class="ui list">
    <div class="item"><i class="calendar alternate icon"></i><div class="content">{% trans "Last login: " %}{{ user.last_login }}</div></div>
    <div class="item"><i class="calendar alternate icon"></i><div class="content">{% trans "Date joined: " %}{{ user.date_joined }}</div></div>
  </ul>
  
  <!--
  <form class="ui form" action="{% url 'accounts:me' %}" method="post">
    {% csrf_token %}
    <h3 class="ui dividing header">{% trans "Change your email:" %}</h3>
    <div class="field">
      <label>{% trans 'New email address' %}</label>
      <input type="email" name="email" placeholder="{% trans 'New email address' %}" value="{{ user.email }}" /></p>
    </div>
    <input class="ui button primary" type="submit" value="{% trans 'Send verification link' %}" name="submit" />
  </form>
  -->
</div>

<div class="section">
  <p><strong>{% trans "These following personal information will be publicly visible." %}</strong><p>
  
  <form class="ui form" action="{% url 'accounts:me' %}" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <h3 class="ui dividing header">{% trans "Change your avatar:" %}</h3>
    <div class="field">
      <!--
      <label for="image_upload" class="ui button">{% trans 'Choose image...' %}</label>
      <input type="file" id="image_upload" name="image_upload" />
      -->
      <input type="file" value="{% trans 'Choose image...' %}" name="image_upload" />
    </div>
    <input class="ui button primary" type="submit" value="{% trans 'Confirm changes' %}" name="submit" />
  </form>
  
  <form class="ui form" action="{% url 'accounts:me' %}" method="post">
    {% csrf_token %}
    <h3 class="ui dividing header">{% trans "Edit your information:" %}</h3>
    <div class="field">
      <label>{% trans "Name" %}</label>
      <div class="two fields">
        <div class="field"><input type="text" name="last_name" placeholder="{% trans 'Last name' %}" value="{{ user.last_name }}" /></div>
        <div class="field"><input type="text" name="first_name" placeholder="{% trans 'First name' %}" value="{{ user.first_name }}" /></div>
      </div>
    </div>
    <div class="field">
      <label>{% trans "Bio" %}</label>
      <textarea style="resize: vertical;" name="bio" placeholder="{% trans 'You may write a short description about yourself, or whatever you want other people know...' %}" rows="15">{{ user.profile.bio }}</textarea>
    </div>
    <input class="ui button primary" type="submit" value="{% trans 'Confirm changes' %}" name="submit" />
  </form>
</div>

<div class="section">
  <a class="ui button" href="{% url 'accounts:index' %}">{% trans "Go back" %}</a>
</div>

{% endblock %}
