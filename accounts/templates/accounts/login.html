{% extends "base.html" %}
{% load i18n %}

{% block title %}{{ page_title }}{% endblock %}

{% block content %}
<div class="section">
  {% if redirect %}
    {% if user.is_authenticated %}
      <p>{% trans "You do not have permission to access this page." %}</p>
    {% else %}
      <p>{% trans "Please log in to see this page." %}</p>
    {% endif %}
  {% endif %}
  {% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}
  
  <form class="ui form" method="post" action="{% url 'accounts:login' %}">
    {% csrf_token %}
    <div class="field">
      <label>{% trans 'Username' %}</label>
      <input type="text" name="username" placeholder="{% trans 'Username' %}" />
    </div>
    <div class="field">
      <label>{% trans 'Password' %}</label>
      <input type="password" name="password" placeholder="{% trans 'Password' %}" />
    </div>
    <a class="ui button" href="{% url 'accounts:index' %}">{% trans "Go back" %}</a>
    <input class="ui button primary" type="submit" value="{% trans 'Log in' %}" />
    <input type="hidden" name="redirect" value="{{ redirect }}" />
  </form>
  
  {# Assumes you setup the password_reset view in your URLconf #}
  {# <a href="{% url 'password_reset' %}">{% trans "I forgot my password" %}</a> #}
  <a href="{% url 'accounts:signup' %}{% if redirect %}?redirect={{ redirect }}{% endif %}">{% trans "Create an account" %}</a>
</div>
{% endblock %}
